<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>UDL Transformation &mdash; UDL 1.0 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=f2a433a1"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="UDL Alignment" href="UDL%20Alignment.html" />
    <link rel="prev" title="UDL Class" href="UDL%20Class.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            UDL
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="UDL%20Class.html">UDL Class</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">UDL Transformation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="#api">API</a></li>
<li class="toctree-l2"><a class="reference internal" href="#raw-to-layer-api">Raw to Layer API</a></li>
<li class="toctree-l2"><a class="reference internal" href="#layer-to-layer-api">Layer to Layer API</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="UDL%20Alignment.html">UDL Alignment</a></li>
<li class="toctree-l1"><a class="reference internal" href="UDL%20Utilities.html">UDL Utilities</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">UDL</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">UDL Transformation</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/UDL Transformation.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <style>

.red {
    color:#A42115;
}
.blue {
    color:#3659D7;
}
.green {
    color:green;
}

</style><section id="udl-transformation">
<h1>UDL Transformation<a class="headerlink" href="#udl-transformation" title="Link to this heading"></a></h1>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading"></a></h2>
</section>
<section id="api">
<h2>API<a class="headerlink" href="#api" title="Link to this heading"></a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Raw to Layer</p></th>
<th class="head"><p>Returns</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>tif_to_grid()</p></td>
<td><p>grid</p></td>
<td><p>Convert a TIFF file to a grid</p></td>
</tr>
<tr class="row-odd"><td><p>csv_to_grid()</p></td>
<td><p>grid</p></td>
<td><p>Convert a TIFF file to a grid</p></td>
</tr>
<tr class="row-even"><td><p>csv_to_graph()</p></td>
<td><p>graph</p></td>
<td><p>Convert a tabular data to a graph</p></td>
</tr>
<tr class="row-odd"><td><p>json_to_graph()</p></td>
<td><p>graph</p></td>
<td><p>Convert a JSON file to a graph</p></td>
</tr>
<tr class="row-even"><td><p>csv_to_point()</p></td>
<td><p>point</p></td>
<td><p>Convert a tabular data to a point</p></td>
</tr>
<tr class="row-odd"><td><p>json_to_point()</p></td>
<td><p>point</p></td>
<td><p>Convert a tabular data to a point</p></td>
</tr>
<tr class="row-even"><td><p>csv_to_linestring()</p></td>
<td><p>linestring</p></td>
<td><p>Convert a tabular data to a linestring</p></td>
</tr>
<tr class="row-odd"><td><p>json_to_polygon()</p></td>
<td><p>polygon</p></td>
<td><p>Convert a tabular data to a polygon</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Layer to Layer</p></th>
<th class="head"><p>Returns</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>point_to_grid()</p></td>
<td><p>grid</p></td>
<td><p>Transform the PointLayer data to GridLayer data by aggregating the points in the same grid cell</p></td>
</tr>
<tr class="row-odd"><td><p>linestring_to_grid()</p></td>
<td><p>grid</p></td>
<td><p>Transform the LinestringLayer data to GridLayer data by counting the vertices in the same grid cell</p></td>
</tr>
<tr class="row-even"><td><p>polygon_to_grid()</p></td>
<td><p>grid</p></td>
<td><p>Transform the PolygonLayer data to GridLayer data by counting the vertices in the same grid cell</p></td>
</tr>
<tr class="row-odd"><td><p>point_to_graph()</p></td>
<td><p>graph</p></td>
<td><p>Transform the PointLayer data to GraphLayer data by converting the points to nodes</p></td>
</tr>
<tr class="row-even"><td><p>polygon_to_graph()</p></td>
<td><p>graph</p></td>
<td><p>Transform the PolygonLayer data to GraphLayer data by converting the vertices to nodes and the segments to edges</p></td>
</tr>
<tr class="row-odd"><td><p>grid_to_point()</p></td>
<td><p>point</p></td>
<td><p>Transform the GridLayer data to PointLayer data by converting the grid cells to points</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The PARAMETERS of the API are omitted due to the space limitation. More details can be found in the following sections.</p>
</div>
</section>
<section id="raw-to-layer-api">
<h2>Raw to Layer API<a class="headerlink" href="#raw-to-layer-api" title="Link to this heading"></a></h2>
<a class="reference internal image-reference" href="_images/Transformation.png"><img alt="_images/Transformation.png" class="align-center" src="_images/Transformation.png" style="width: 281.01px; height: 313.02px;" /></a>
<p><code class="docutils literal notranslate"><span class="pre">tif_to_grid(name,</span> <span class="pre">filedir,</span> <span class="pre">start_lat,</span> <span class="pre">end_lat,</span> <span class="pre">start_lon,</span> <span class="pre">end_lon,</span> <span class="pre">step_lat,</span> <span class="pre">step_lon,</span> <span class="pre">year=None,</span> <span class="pre">band=1,</span> <span class="pre">coord_type=&quot;latlon&quot;,</span> <span class="pre">mode=&quot;avg&quot;)</span></code></p>
<div class="line-block">
<div class="line"><span class="blue">PARAMETERS</span>:</div>
</div>
<ul class="simple">
<li><p><strong>name</strong> (<em>string</em>) - Name of the layer</p></li>
<li><p><strong>filedir</strong> (<em>list[string]</em>) - The list of the path to the TIFF file</p></li>
<li><p><strong>start_lat</strong> (<em>float</em>) - Starting latitude</p></li>
<li><p><strong>end_lat</strong> (<em>float</em>) - Ending latitude</p></li>
<li><p><strong>start_lon</strong> (<em>float</em>) - Starting longitude</p></li>
<li><p><strong>end_lon</strong> (<em>float</em>) - Ending longitude</p></li>
<li><p><strong>step_lat</strong> (<em>float</em>) - Step of latitude</p></li>
<li><p><strong>step_lon</strong> (<em>float</em>) - Step of longitude</p></li>
<li><p><strong>year</strong> (<em>int</em>) - The year of dataset</p></li>
<li><p><strong>band</strong> (<em>int</em>) - The band of the TIFF file. Defaults to 1.</p></li>
<li><p><strong>coord_type</strong> (<em>string</em>) - Coordinate order type of tif file and the choice is “latlon” or “lonlat”. Defaults to “latlon”. The type can be revealed by <code class="docutils literal notranslate"><span class="pre">get_coord_type</span></code> (in utils).</p></li>
<li><p><strong>mode</strong> (<em>string</em>) - The way of aggregation. “sum”, “avg”, “max”, “min” or “random”. Defaults to “avg”.</p>
<ul>
<li><p>“avg”</p></li>
<li><p>“sum”</p></li>
<li><p>“max”</p></li>
<li><p>“min”</p></li>
<li><p>“random”</p></li>
</ul>
</li>
</ul>
<div class="line-block">
<div class="line"><span class="blue">RETURNS</span>:</div>
</div>
<ul class="simple">
<li><p>Grid UDL object</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">transformation</span> <span class="kn">import</span> <span class="o">*</span>
<span class="n">nightlights_grid</span> <span class="o">=</span> <span class="n">tiff_to_grid</span><span class="p">(</span><span class="s2">&quot;data/nightlights.tif&quot;</span><span class="p">,</span> <span class="s2">&quot;nightlights&quot;</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mf">32.4</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">,</span> <span class="mi">120</span><span class="p">,</span> <span class="mi">122</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">,</span> <span class="mi">2013</span><span class="p">,</span> <span class="s2">&quot;max&quot;</span><span class="p">,</span> <span class="s2">&quot;latlon&quot;</span><span class="p">,</span> <span class="s2">&quot;avg&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">csv_to_grid(name,</span> <span class="pre">filedir,</span> <span class="pre">start_lat,</span> <span class="pre">end_lat,</span> <span class="pre">start_lon,</span> <span class="pre">end_lon,</span> <span class="pre">step_lat,</span> <span class="pre">step_lon,</span> <span class="pre">year=None,</span> <span class="pre">mode=&quot;avg&quot;)</span></code></p>
<ul>
<li><p><strong>name</strong> (<em>string</em>) - Name of the layer</p></li>
<li><p><strong>filedir</strong> (<em>string</em>) - Path to the tabular data file (CSV)</p>
<p>The file should contain the following columns:</p>
<ul class="simple">
<li><p>“latitude”</p></li>
<li><p>“longitude”</p></li>
<li><p>name</p></li>
</ul>
</li>
<li><p><strong>start_lat</strong> (<em>float</em>) - Starting latitude</p></li>
<li><p><strong>end_lat</strong> (<em>float</em>) - Ending latitude</p></li>
<li><p><strong>start_lon</strong> (<em>float</em>) - Starting longitude</p></li>
<li><p><strong>end_lon</strong> (<em>float</em>) - Ending longitude</p></li>
<li><p><strong>step_lat</strong> (<em>float</em>) - Step of latitude</p></li>
<li><p><strong>step_lon</strong> (<em>float</em>) - Step of longitude</p></li>
<li><p><strong>year</strong> (<em>int</em>) - Year of the data</p></li>
<li><p><strong>mode</strong> (<em>string</em>) - The way of aggregation. “sum”, “avg”, “max”, “min” or “random”. Defaults to “avg”.</p>
<ul class="simple">
<li><p>“avg”</p></li>
<li><p>“sum”</p></li>
<li><p>“max”</p></li>
<li><p>“min”</p></li>
<li><p>“random”</p></li>
</ul>
</li>
</ul>
<div class="line-block">
<div class="line"><span class="blue">RETURNS</span>:</div>
</div>
<ul class="simple">
<li><p>Grid UDL object</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">taxi_pick_grid</span> <span class="o">=</span> <span class="n">tab_to_grid</span><span class="p">(</span><span class="s2">&quot;pick and drop.csv&quot;</span><span class="p">,</span> <span class="s2">&quot;Pick up of Shanghai taxi&quot;</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mf">32.4</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">,</span> <span class="mi">120</span><span class="p">,</span> <span class="mi">122</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">,</span> <span class="mi">2018</span><span class="p">,</span> <span class="s2">&quot;sum&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">json_to_graph(name,</span> <span class="pre">filedir,</span> <span class="pre">year=None,</span> <span class="pre">directed=False,</span> <span class="pre">edge_attribute=None)</span></code></p>
<div class="line-block">
<div class="line"><span class="blue">PARAMETERS</span>:</div>
</div>
<ul>
<li><p><strong>name</strong> - Name of the layer</p></li>
<li><p><strong>filedir</strong> - Path to the json data file (JSON)</p>
<p>The json file should have the following format (“nightlights” is the name of the layer):</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;nodes&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;latitude&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">31.2</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;longitude&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">121.4</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;nightlight&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.2</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;latitude&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">31.3</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;longitude&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">121.5</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;nightlight&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.3</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">  </span><span class="p">],</span>
<span class="w">  </span><span class="nt">&quot;edges&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;source&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;target&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;weight&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">1.2</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">  </span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p><strong>year</strong> (<em>int</em>)- The year of dataset</p></li>
<li><p><strong>directed</strong> (<em>bool</em>) - Whether the graph is directed. Defaults to False</p></li>
<li><p><strong>edge_attribute</strong> (<em>string</em>) - The attribute of the edge. Defaults to None</p></li>
</ul>
<div class="line-block">
<div class="line"><span class="blue">RETURNS</span>:</div>
</div>
<ul class="simple">
<li><p>Graph UDL object</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">roads_graph</span> <span class="o">=</span> <span class="n">tab_to_graph</span><span class="p">(</span><span class="s2">&quot;data/roads.csv&quot;</span><span class="p">,</span> <span class="s2">&quot;roads&quot;</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mf">32.4</span><span class="p">,</span> <span class="mi">120</span><span class="p">,</span> <span class="mi">122</span><span class="p">,</span> <span class="mi">2013</span><span class="p">)</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">csv_to_graph(name,</span> <span class="pre">filedir,</span> <span class="pre">year=None,</span> <span class="pre">attr=None,</span> <span class="pre">directed=False)</span></code></p>
<div class="line-block">
<div class="line"><span class="blue">PARAMETERS</span>:</div>
</div>
<ul>
<li><p><strong>name</strong> (<em>string</em>) - Name of the layer</p></li>
<li><p><strong>file</strong> (<em>string</em>) - Path to the tabular data file (CSV)</p>
<p>The file should contain the following columns:</p>
<ul class="simple">
<li><p>“id” (also is the “source” node of the edge)</p></li>
<li><p>“latitude”</p></li>
<li><p>“longitude”</p></li>
<li><p>name (the attribute value of the node)</p></li>
<li><p>“target” (optional)</p></li>
<li><p>“weight” (optional)</p></li>
</ul>
</li>
<li><p><strong>year</strong> (<em>int</em>) - Year of the data</p></li>
<li><p><strong>attr</strong> (<em>string</em>) - The attribute name of the edge. Defaults to None</p></li>
<li><p><strong>directed</strong> (<em>bool</em>) - Whether the graph is directed. Defaults to False</p></li>
</ul>
<div class="line-block">
<div class="line"><span class="blue">RETURNS</span>:</div>
</div>
<ul class="simple">
<li><p>Graph UDL object</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">json_to_point(name,</span> <span class="pre">filedir,</span> <span class="pre">year=None)</span></code></p>
<ul>
<li><p><strong>name</strong> (<em>string</em>) - Name of the layer</p></li>
<li><p><strong>filedir</strong> (<em>string</em>) - Path to the JSON data file (JSON)</p>
<p>The json file should have the following format (“nightlights” is the name in column_list, the key of the json file should be the same as the name in column_list):</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;points&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;latitude&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;longitude&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;nightlight&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.2</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;latitude&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">2.0</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;longitude&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">2.0</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;nightlight&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.3</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">    </span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p><strong>year</strong> (<em>int</em>) - Year of the data</p></li>
</ul>
<div class="line-block">
<div class="line"><span class="blue">RETURNS</span>:</div>
</div>
<ul class="simple">
<li><p>Point UDL object</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">csv_to_linestring(name,</span> <span class="pre">filedir,</span> <span class="pre">sort_column,</span> <span class="pre">group_column=None,</span> <span class="pre">column_list=[],</span> <span class="pre">year=None)</span></code></p>
<ul>
<li><p><strong>name</strong> (<em>string</em>) - Name of the layer</p></li>
<li><p><strong>filedir</strong> (<em>string</em>) - Path to the tabular data file (CSV)</p>
<p>The file should contain the following columns (the rest columns should be the element in column_list):</p>
<ul class="simple">
<li><p>“latitude”</p></li>
<li><p>“longitude”</p></li>
<li></li>
</ul>
</li>
<li><p><strong>sort_column</strong> (<em>string</em>) - The column name of the data to be sorted as the sequence of the linestring</p></li>
<li><p><strong>group_column</strong> (<em>string</em>) - The column name of the data to be grouped as the division of the linestring. If the column is None, the data will be a single linestring.</p></li>
<li><p><strong>column_list</strong> (<em>list[string]</em>) - The list of the column names of the data to be added as the attributes of the linestring</p></li>
<li><p><strong>year</strong> (<em>int</em>) - Year of the data</p></li>
</ul>
<div class="line-block">
<div class="line"><span class="blue">RETURNS</span>:</div>
</div>
<ul class="simple">
<li><p>Linestring UDL object</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">json_to_polygon(name:</span> <span class="pre">str,</span> <span class="pre">filedir:</span> <span class="pre">str,</span> <span class="pre">year=None,</span> <span class="pre">column_list=[],</span> <span class="pre">output_dir=None,</span> <span class="pre">encoding=&quot;utf-8&quot;)</span></code></p>
<ul>
<li><p><strong>name</strong> (<em>string</em>) - Name of the layer</p></li>
<li><p><strong>filedir</strong> (<em>string</em>) - Path to the data file (JSON)</p>
<p>The json file should have the following format (the rest keys should be the element in column_list):</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;features&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Feature&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;geometry&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Polygon&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;coordinates&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                    </span><span class="p">[</span>
<span class="w">                        </span><span class="p">[</span>
<span class="w">                            </span><span class="mf">120.992531</span><span class="p">,</span>
<span class="w">                            </span><span class="mf">30.955028</span>
<span class="w">                        </span><span class="p">],</span>
<span class="w">                        </span><span class="p">[</span>
<span class="w">                            </span><span class="mf">120.991683</span><span class="p">,</span>
<span class="w">                            </span><span class="mf">30.958211</span>
<span class="w">                        </span><span class="p">]</span>
<span class="w">                    </span><span class="p">]</span>
<span class="w">                </span><span class="p">]</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p><strong>year</strong> (<em>int</em>) - Year of the data</p></li>
<li><p><strong>column_list</strong> (<em>list[string]</em>) - The list of the column names of the data to be added as the attributes of the polygon</p></li>
</ul>
<div class="line-block">
<div class="line"><span class="blue">RETURNS</span>:</div>
</div>
<ul class="simple">
<li><p>Polygon UDL object</p></li>
</ul>
</section>
<section id="layer-to-layer-api">
<h2>Layer to Layer API<a class="headerlink" href="#layer-to-layer-api" title="Link to this heading"></a></h2>
<a class="reference internal image-reference" href="_images/trans.png"><img alt="_images/trans.png" class="align-center" src="_images/trans.png" style="width: 510.88px; height: 339.68px;" /></a>
<p><code class="docutils literal notranslate"><span class="pre">point_to_grid(point_data,</span> <span class="pre">target_name=None,</span> <span class="pre">start_lat,</span> <span class="pre">end_lat,</span> <span class="pre">step_lat,</span> <span class="pre">start_lon,</span> <span class="pre">end_lon,</span> <span class="pre">step_lon,</span> <span class="pre">mode=&quot;avg&quot;)</span></code></p>
<div class="line-block">
<div class="line"><span class="blue">PARAMETERS</span>:</div>
</div>
<ul class="simple">
<li><p><strong>point_data</strong> (<em>PointLayer</em>) - The point data to be transformed</p></li>
<li><p><strong>target_name</strong> (<em>string</em>) - The name of the grid transformed to</p></li>
<li><p><strong>start_lat</strong> (<em>float</em>) - Starting latitude</p></li>
<li><p><strong>end_lat</strong> (<em>float</em>) - Ending latitude</p></li>
<li><p><strong>step_lat</strong> (<em>float</em>) - The step of latitude of the grid</p></li>
<li><p><strong>start_lon</strong> (<em>float</em>) - Starting longitude</p></li>
<li><p><strong>end_lon</strong> (<em>float</em>) - Ending longitude</p></li>
<li><p><strong>step_lon</strong> (<em>float</em>) - The step of longitude of the grid</p></li>
<li><p><strong>mode</strong> (<em>string</em>) - The way of aggregation. “sum”, “avg”, “max”, “min” or “random”. Defaults to “avg”.</p>
<ul>
<li><p>“avg”</p></li>
<li><p>“sum”</p></li>
<li><p>“max”</p></li>
<li><p>“min”</p></li>
<li><p>“random”</p></li>
</ul>
</li>
</ul>
<div class="line-block">
<div class="line"><span class="blue">RETURNS</span>:</div>
</div>
<ul class="simple">
<li><p>Grid UDL object</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">linestring_to_grid(linestring_data,</span> <span class="pre">target_name=None,</span> <span class="pre">start_lat,</span> <span class="pre">end_lat,</span> <span class="pre">step_lat,</span> <span class="pre">start_lon,</span> <span class="pre">end_lon,</span> <span class="pre">step_lon)</span></code></p>
<div class="line-block">
<div class="line"><span class="blue">PARAMETERS</span>:</div>
</div>
<ul class="simple">
<li><p><strong>linestring_data</strong> (<em>LinestringLayer</em>) - The linestring data to be transformed</p></li>
<li><p><strong>target_name</strong> (<em>string</em>) - The name of the grid transformed to</p></li>
<li><p><strong>start_lat</strong> (<em>float</em>) - Starting latitude</p></li>
<li><p><strong>end_lat</strong> (<em>float</em>) - Ending latitude</p></li>
<li><p><strong>step_lat</strong> (<em>float</em>) - The step of latitude of the grid</p></li>
<li><p><strong>start_lon</strong> (<em>float</em>) - Starting longitude</p></li>
<li><p><strong>end_lon</strong> (<em>float</em>) - Ending longitude</p></li>
<li><p><strong>step_lon</strong> (<em>float</em>) - The step of longitude of the grid</p></li>
</ul>
<div class="line-block">
<div class="line"><span class="blue">RETURNS</span>:</div>
</div>
<ul class="simple">
<li><p>Grid UDL object</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">polygon_to_grid(polygon_data,</span> <span class="pre">target_name=None,</span> <span class="pre">start_lat,</span> <span class="pre">end_lat,</span> <span class="pre">step_lat,</span> <span class="pre">start_lon,</span> <span class="pre">end_lon,</span> <span class="pre">step_lon)</span></code></p>
<ul class="simple">
<li><p><strong>polygon_data</strong> (<em>PolygonLayer</em>) - The polygon data to be transformed</p></li>
<li><p><strong>target_name</strong> (<em>string</em>) - The name of the grid transformed to</p></li>
<li><p><strong>start_lat</strong> (<em>float</em>) - Starting latitude</p></li>
<li><p><strong>end_lat</strong> (<em>float</em>) - Ending latitude</p></li>
<li><p><strong>step_lat</strong> (<em>float</em>) - Difference of latitude between each cell</p></li>
<li><p><strong>start_lon</strong> (<em>float</em>) - Starting longitude</p></li>
<li><p><strong>end_lon</strong> (<em>float</em>) - Ending longitude</p></li>
<li><p><strong>step_lon</strong> (<em>float</em>) - Difference of lontitude between each cell</p></li>
</ul>
<div class="line-block">
<div class="line"><span class="blue">RETURNS</span>:</div>
</div>
<ul class="simple">
<li><p>Grid UDL object</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">point_to_graph(point_data,</span> <span class="pre">target_name=None,</span> <span class="pre">directed=False,</span> <span class="pre">edge_attribute=None,</span> <span class="pre">edge_weight=None)</span></code></p>
<div class="line-block">
<div class="line"><span class="blue">PARAMETERS</span>:</div>
</div>
<ul class="simple">
<li><p><strong>point_data</strong> (<em>PointLayer</em>) - The point data to be transformed</p></li>
<li><p><strong>target_name</strong> (<em>string</em>) - The name of the grid transformed to</p></li>
<li><p><strong>directed</strong> (<em>bool</em>) - Whether the graph is directed. Defaults to False</p></li>
<li><p><strong>edge_attribute</strong> (<em>string</em>) - The attribute name of the edge. Defaults to None</p></li>
<li><p><strong>edge_weight</strong> (<em>list</em>) - The attribute value of the edge weight. Defaults to None</p></li>
</ul>
<div class="line-block">
<div class="line"><span class="blue">RETURNS</span>:</div>
</div>
<ul class="simple">
<li><p>Graph UDL object</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">polygon_to_graph(polygon_data,</span> <span class="pre">target_name=None,</span> <span class="pre">edge_attribute=None,</span> <span class="pre">edge_weight=None)</span></code></p>
<div class="line-block">
<div class="line"><span class="blue">PARAMETERS</span>:</div>
</div>
<ul class="simple">
<li><p><strong>polygon_data</strong> (<em>PolygonLayer</em>) - The polygon data to be transformed</p></li>
<li><p><strong>target_name</strong> (<em>string</em>) - The name of the grid transformed to</p></li>
<li><p><strong>edge_attribute</strong> (<em>string</em>) - The attribute name of the edge (should be the attribute in polygon data’s features). Defaults to None</p></li>
<li><p><strong>edge_weight</strong> (<em>list</em>) - The attribute value of the edge weight. If the edge_attribute is specified, the edge_weight defaults to the value of the edge_attribute. Otherwise, the edge_weight defaults to None</p></li>
</ul>
<div class="line-block">
<div class="line"><span class="blue">RETURNS</span>:</div>
</div>
<ul class="simple">
<li><p>Graph UDL object</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">grid_to_point(grid_data,</span> <span class="pre">target_name=None,</span> <span class="pre">start_lat=None,</span> <span class="pre">end_lat=None,</span> <span class="pre">step_lat=None,</span> <span class="pre">start_lon=None,</span> <span class="pre">end_lon=None,</span> <span class="pre">step_lon=None)</span></code></p>
<div class="line-block">
<div class="line"><span class="blue">PARAMETERS</span>:</div>
</div>
<ul class="simple">
<li><p><strong>grid_data</strong> (<em>GridLayer</em>) - The grid data to be transformed</p></li>
<li><p><strong>target_name</strong> (<em>string</em>) - The name of the point transformed to</p></li>
<li><p><strong>start_lat</strong> (<em>float</em>) - Starting latitude</p></li>
<li><p><strong>end_lat</strong> (<em>float</em>) - Ending latitude</p></li>
<li><p><strong>step_lat</strong> (<em>float</em>) - The step of latitude of the grid</p></li>
<li><p><strong>start_lon</strong> (<em>float</em>) - Starting longitude</p></li>
<li><p><strong>end_lon</strong> (<em>float</em>) - Ending longitude</p></li>
<li><p><strong>step_lon</strong> (<em>float</em>) - The step of longitude of the grid</p></li>
</ul>
<div class="line-block">
<div class="line"><span class="blue">RETURNS</span>:</div>
</div>
<ul class="simple">
<li><p>Point UDL object</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">grid_granularity_convert(grid_data,</span> <span class="pre">target_name=None,</span> <span class="pre">target_lat_step,</span> <span class="pre">target_lon_step,</span> <span class="pre">start_lat,</span> <span class="pre">end_lat,</span> <span class="pre">start_lon,</span> <span class="pre">end_lon)</span></code></p>
<div class="line-block">
<div class="line"><span class="blue">PARAMETERS</span>:</div>
</div>
<ul class="simple">
<li><p><strong>grid_data</strong> (<em>GridLayer</em>) - The original grid data to be converted</p></li>
<li><p><strong>target_name</strong> (<em>string</em>) - Name of the target grid data</p></li>
<li><p><strong>target_lat_step</strong> - Step of latitude in the target grid data</p></li>
<li><p><strong>target_lon_step</strong> - Step of longitude in the target grid data</p></li>
<li><p><strong>start_lat</strong> - Starting latitude in the target grid data</p></li>
<li><p><strong>end_lat</strong> - Ending longitude in the target grid data</p></li>
<li><p><strong>start_lon</strong> - Starting longitude in the target grid data</p></li>
<li><p><strong>end_lon</strong> - Ending longitude in the target grid data</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">grid_merge(grid_data1,</span> <span class="pre">grid_data2,</span> <span class="pre">target_name=None,</span> <span class="pre">aggregation)</span></code></p>
<p>Two merged grids should have the same granularity.</p>
<div class="line-block">
<div class="line"><span class="blue">PARAMETERS</span>:</div>
</div>
<ul class="simple">
<li><p><strong>grid_data1</strong> (<em>GridLayer</em>) - The first grid data to be merged</p></li>
<li><p><strong>grid_data2</strong> (<em>GraphLayer</em>) - The second grid data to be merged</p></li>
<li><p><strong>target_name</strong> (<em>string</em>) - The name of the merged grid</p></li>
<li><p><strong>aggregation</strong> (<em>string/function</em>) - Agregation method, including:</p>
<ul>
<li><p>“sum”</p></li>
<li><p>“average”</p></li>
<li><p>“max”</p></li>
<li><p>“min”</p></li>
<li><p>other user-defined aggregation methods</p></li>
</ul>
</li>
</ul>
<div class="line-block">
<div class="line"><span class="blue">RETURNS</span>:</div>
</div>
<ul class="simple">
<li><p>Grid UDL object</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">graph_align(graph_data1,</span> <span class="pre">graph_data2,</span> <span class="pre">target_name=None,</span> <span class="pre">start_lat,</span> <span class="pre">end_lat,</span> <span class="pre">start_lon,</span> <span class="pre">end_lon)</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">graph_merge(graph_data1,</span> <span class="pre">graph_data2,</span> <span class="pre">target_name=None,</span> <span class="pre">start_lat,</span> <span class="pre">end_lat,</span> <span class="pre">start_lon,</span> <span class="pre">end_lon,</span> <span class="pre">aggregation)</span></code></p>
<ul class="simple">
<li><p><strong>graph_data1</strong> (<em>GraphLayer</em>) - The first graph data to be merged</p></li>
<li><p><strong>graph_data2</strong> (<em>GraphLayer</em>) - The second graph data to be merged</p></li>
<li><p><strong>target_name</strong> (<em>string</em>) - The name of the merged graph</p></li>
<li><p><strong>start_lat</strong> - Starting latitude</p></li>
<li><p><strong>end_lat</strong> - Ending latitude</p></li>
<li><p><strong>start_lon</strong> - Starting longitude</p></li>
<li><p><strong>end_lon</strong> - Ending longitude</p></li>
<li><p><strong>aggregation</strong> (<em>string/function</em>) - Agregation method, including:</p>
<ul>
<li><p>“sum”</p></li>
<li><p>“average”</p></li>
<li><p>“max”</p></li>
<li><p>“min”</p></li>
<li><p>other user-defined aggregation methods</p></li>
</ul>
</li>
</ul>
<div class="line-block">
<div class="line"><span class="blue">RETURNS</span>:</div>
</div>
<ul class="simple">
<li><p>Graph UDL object</p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="UDL%20Class.html" class="btn btn-neutral float-left" title="UDL Class" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="UDL%20Alignment.html" class="btn btn-neutral float-right" title="UDL Alignment" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, UDL Team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>